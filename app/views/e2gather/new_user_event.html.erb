<% provide(:title, "New User Event") %>
<h1>New User Event</h1>
<div class = row>
  <div class="span6 offset3">
    <%= form_tag({:controller => "e2gather", :action => "create_user_event"}, :method=>"post") do %>

      <b>Name</b>
      <br> 
      <%= text_field_tag(:name,@event_name|| "") %>
      <br> 
      <br>
      <b>Location</b>
      <br> 
      <%= text_field_tag(:location,@event_location || "") %>
      <br>
      <br>
      <b>Date and Time</b>
      <br> 
	  
      <%= datetime_select(:date_time, "", :default => @event_time , :discard_second => true, start_year: 2013) %>
      <%= hidden_field :status, :value => "Pending" %>
      <br>
      <br>
      <div>
      <b>Ingredients</b>
      <table>
	<% for i in 0..@emp_ingred.length-1%>
        <tr>
		<td><%= label_tag("Ingredients") %></td>
		<td><%= text_field_tag(@emp_ingred[i], @ing[i] || "")%></td>
		<td><%= label_tag("Quantity") %></td>
		<td><%= text_field_tag(@emp_q[i], @qua[i] || "")%></td>
    		<td><%= label_tag(:unit, "Unit") %><td>
    		<td><%= select('', :unit, ['Unit(s)', 'Teaspoon(s)', 'Tablespoon(s)', '
			Fluid Ounce(s)', 'Cup(s)', 'Pint(s)', 'Quart(s)', 'Gallon(s)', 
			'Pound(s)', 'Ounce(s)'], {}, { index: nil }) %><td>
	</tr>
	<% end %>
      </table>
      </div>
      <br>
      <% session[:emp_ingred] = @emp_ingred%>
      <% session[:emp_q] = @emp_q%>
	  <% session[:ing] = @ing%>
      <% session[:qua] = @qua%>
      <%= submit_tag "Add ingredient", :name=>"add"%>
      <%= submit_tag "Create event", :name=>"create"%>
    <% end %>
  </div>
</div>

<style type="text/css">
input, textarea, {
  border: 1px solid #bbb;
  width: 100%;
  margin-bottom: 15px;
  @include box_sizing;
}

select, .uneditable-input {
  border: 1px solid #bbb;
  width: auto;
  margin-bottom: 15px;
  @include box_sizing;
}

input {
  height: auto !important;
}
<style>
